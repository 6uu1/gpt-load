# ===========================================
# OpenAI 多密钥代理服务器配置文件 (Go版本)
# ===========================================

# ===========================================
# 服务器配置
# ===========================================
# 服务器端口
PORT=3000

# 服务器主机地址
HOST=0.0.0.0

# ===========================================
# 密钥管理配置
# ===========================================
# 密钥文件路径
KEYS_FILE=keys.txt

# 起始密钥索引
START_INDEX=0

# 黑名单阈值（错误多少次后拉黑密钥）
BLACKLIST_THRESHOLD=1

# 最大重试次数（换key重试）
MAX_RETRIES=3

# ===========================================
# OpenAI API 配置
# ===========================================
# 上游 API 地址
OPENAI_BASE_URL=https://api.openai.com

# 请求超时时间（毫秒）
REQUEST_TIMEOUT=30000

# ===========================================
# 性能优化配置
# ===========================================
# 最大连接数
MAX_SOCKETS=100

# 最大空闲连接数
MAX_FREE_SOCKETS=20

# 启用 Keep-Alive
ENABLE_KEEP_ALIVE=true

# 禁用压缩（减少CPU开销）
DISABLE_COMPRESSION=true

# 缓冲区大小（字节，建议流式响应使用64KB或更大）
BUFFER_SIZE=65536

# ===========================================
# 日志配置
# ===========================================
# 日志级别 (debug, info, warn, error)
LOG_LEVEL=info

# 日志格式 (text, json)
LOG_FORMAT=text

# 启用文件日志
LOG_ENABLE_FILE=false

# 日志文件路径
LOG_FILE_PATH=logs/app.log

# 启用请求日志（生产环境可设为 false 以提高性能）
LOG_ENABLE_REQUEST=true

# ===========================================
# 认证配置
# ===========================================
# 项目认证密钥（可选，如果设置则启用认证）
# AUTH_KEY=your-secret-key

# ===========================================
# CORS 配置
# ===========================================
# 是否启用 CORS
ENABLE_CORS=true

# 允许的来源（逗号分隔，* 表示允许所有）
ALLOWED_ORIGINS=*


